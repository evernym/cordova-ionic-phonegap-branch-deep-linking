{"version":3,"sources":["tests.js"],"names":[],"mappings":"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","file":"tests.js","sourcesContent":["/**\n * Branch.IO Cordova Plugin Unit-Test\n * ----------------------------------\n */\n/* jshint jasmine: true */\n\nexports.defineAutoTests = function() {\n\n\tdescribe('Branch.IO SDK (Branch)', function() {\n\t\tit('should exist', function() {\n\t\t\texpect(window.Branch).toBeDefined();\n\t\t});\n\t\tit('should contain a method called getLatestReferringParams()', function() {\n\t\t\texpect(window.Branch.getLatestReferringParams).toBeDefined();\n\t\t\texpect(typeof(window.Branch.getLatestReferringParams)).toBe('function');\n\t\t});\n\t\tit('should contain a method called getFirstReferringParams()', function() {\n\t\t\texpect(window.Branch.getFirstReferringParams).toBeDefined();\n\t\t\texpect(typeof(window.Branch.getFirstReferringParams)).toBe('function');\n\t\t});\n\t\tit('should contain a method called setIdentity()', function() {\n\t\t\texpect(window.Branch.setIdentity).toBeDefined();\n\t\t\texpect(typeof(window.Branch.setIdentity)).toBe('function');\n\t\t});\n\t\tit('should contain a method called logout()', function() {\n\t\t\texpect(window.Branch.logout).toBeDefined();\n\t\t\texpect(typeof(window.Branch.logout)).toBe('function');\n\t\t});\n\t\tit('should contain a method called createBranchUniversalObject()', function() {\n\t\t\texpect(window.Branch.createBranchUniversalObject).toBeDefined();\n\t\t\texpect(typeof(window.Branch.createBranchUniversalObject)).toBe('function');\n\t\t});\n\t\tit('should contain a method called userCompletedAction()', function() {\n\t\t\texpect(window.Branch.userCompletedAction).toBeDefined();\n\t\t\texpect(typeof(window.Branch.userCompletedAction)).toBe('function');\n\t\t});\n\t\tit('should contain a method called loadRewards()', function() {\n\t\t\texpect(window.Branch.loadRewards).toBeDefined();\n\t\t\texpect(typeof(window.Branch.loadRewards)).toBe('function');\n\t\t});\n\t\tit('should contain a method called redeemRewards()', function() {\n\t\t\texpect(window.Branch.redeemRewards).toBeDefined();\n\t\t\texpect(typeof(window.Branch.redeemRewards)).toBe('function');\n\t\t});\n\t\tit('should contain a method called creditHistory()', function() {\n\t\t\texpect(window.Branch.creditHistory).toBeDefined();\n\t\t\texpect(typeof(window.Branch.creditHistory)).toBe('function');\n\t\t});\n\t});\n\n\tdescribe('Branch.getLatestReferringParams()', function() {\n\t\tbeforeEach(function(done) {\n\t\t\twindow.Branch.initSession().then(function() {\n\t\t\t\tdone();\n\t\t\t});\n\t\t}, 3000);\n\t\tit('should return an object response', function(done) {\n\t\t\twindow.Branch.getLatestReferringParams().then(function(res) {\n\t\t\t\texpect(typeof(res)).toBe('object');\n\t\t\t\tdone();\n\t\t\t});\n\t\t}, 10000);\n\t});\n\n\tdescribe('Branch.getFirstReferringParams()', function() {\n\t\tbeforeEach(function(done) {\n\t\t\twindow.Branch.initSession().then(function() {\n\t\t\t\tdone();\n\t\t\t});\n\t\t}, 3000);\n\t\tit('should return an object response', function(done) {\n\t\t\twindow.Branch.getFirstReferringParams().then(function(res) {\n\t\t\t\t// We expect false since we won't open this from a branch link\n\t\t\t\texpect(res).toBe(false);\n\t\t\t\tdone();\n\t\t\t});\n\t\t}, 10000);\n\t});\n\n\n\tdescribe('Branch.setIdentity()', function() {\n\t\tbeforeEach(function(done) {\n\t\t\twindow.Branch.initSession().then(function() {\n\t\t\t\tdone();\n\t\t\t});\n\t\t}, 3000);\n\t\tit('should return \"Success\" response', function(done) {\n\t\t\twindow.Branch.setIdentity('new_identity').then(function(res) {\n\t\t\t\texpect(typeof(res)).toBe('object');\n\t\t\t\tdone();\n\t\t\t});\n\t\t}, 10000);\n\t});\n\n\tdescribe('Branch.createBranchUniversalObject()', function() {\n\t\tvar branchUniversalObj;\n\n\t\tbeforeEach(function(done) {\n\t\t\twindow.Branch.initSession().then(function() {\n\t\t\t    var properties = {\n\t\t\t        canonicalIdentifier: 'testbed',\n\t\t\t        title: 'testbed',\n\t\t\t        contentDescription: 'Testbed Application',\n\t\t\t        contentImageUrl: 'https://imgflip.com/s/meme/Derp.jpg',\n\t\t\t        contentIndexingMode: 'public',\n\t\t\t        contentMetadata: {}\n\t\t\t    };\n\t\t\t\twindow.Branch.createBranchUniversalObject(properties).then(function(res) {\n\t\t\t\t\tbranchUniversalObj = res;\n\t\t\t\t\tdone();\n\t\t\t\t});\n\t\t\t});\n\t\t}, 3000);\n\t\tit('should execute register view', function(done) {\n\t\t\tbranchUniversalObj.registerView().then(function(res) {\n\t\t\t\texpect(typeof(res)).toBe('object');\n\t\t\t\tdone();\n\t\t\t});\n\t\t}, 5000);\n\t\tit('should execute generate short url', function(done) {\n\t\t    var properties = {\n\t\t        feature: 'test',\n\t\t        alias: 'testbed',\n\t\t        channel: 'test',\n\t\t        stage: 'test',\n\t\t        duration: 10000\n\t\t    };\n\t\t    var controlParams = {\n\t\t        $fallback_url: 'www.another.com',\n\t\t        $desktop_url: 'www.desktop.com',\n\t\t        $android_url: 'test',\n\t\t        $ios_url: 'ios',\n\t\t        $ipad_url: 'ipad',\n\t\t        $fire_url: 'fire',\n\t\t        $blackberry_url: 'blackberry',\n\t\t        $windows_phone_url: 'win-phone'\n\t\t    };\n\t\t    branchUniversalObj.generateShortUrl(properties, controlParams).then(function(res) {\n\t\t        expect(typeof(res)).toBe('object');\n\t\t        done();\n\t\t    });\n\t\t}, 5000);\n\t});\n\n\tdescribe('Branch.userCompletedAction()', function() {\n\t\tbeforeEach(function(done) {\n\t\t\twindow.Branch.initSession().then(function() {\n\t\t\t\tdone();\n\t\t\t});\n\t\t}, 3000);\n\t\tit('should successfully execute the method', function(done) {\n\t\t\twindow.Branch.userCompletedAction('login');\n\t\t\texpect('Success').toBe('Success');\n\t\t\tdone();\n\t\t}, 10000);\n\t});\n\n\tdescribe('Branch.loadRewards()', function() {\n\t\tbeforeEach(function(done) {\n\t\t\twindow.Branch.initSession().then(function() {\n\t\t\t\tdone();\n\t\t\t});\n\t\t}, 3000);\n\t\tit('should return an object response', function(done) {\n\t\t\twindow.Branch.loadRewards().then(function(res) {\n\t\t\t\texpect(typeof(res)).toBe('number');\n\t\t\t\tdone();\n\t\t\t}, function(err) {\n\t\t\t\texpect(typeof(err)).toBe('string');\n\t\t\t\tdone();\n\t\t\t});\n\t\t}, 10000);\n\t});\n\n\tdescribe('Branch.redeemRewards()', function() {\n\t\tbeforeEach(function(done) {\n\t\t\twindow.Branch.initSession().then(function() {\n\t\t\t\tdone();\n\t\t\t});\n\t\t}, 3000);\n\t\tit('should return an object/string error response', function(done) {\n\t\t\twindow.Branch.redeemRewards(100).then(function(res) {\n\t\t\t\texpect(typeof(res)).toBe('object');\n\t\t\t\tdone();\n\t\t\t}, function(err) {\n\t\t\t\texpect(typeof(err)).toBe('string');\n\t\t\t\tdone();\n\t\t\t});\n\t\t}, 10000);\n\t});\n\n\tdescribe('Branch.creditHistory()', function() {\n\t\tbeforeEach(function(done) {\n\t\t\twindow.Branch.initSession().then(function() {\n\t\t\t\tdone();\n\t\t\t});\n\t\t}, 3000);\n\t\tit('should return the credit balance', function(done) {\n\t\t\twindow.Branch.creditHistory().then(function(res) {\n\t\t\t\texpect(typeof(res)).toBe('object');\n\t\t\t\tdone();\n\t\t\t});\n\t\t}, 10000);\n\t});\n\n};\n"],"sourceRoot":"/source/"}