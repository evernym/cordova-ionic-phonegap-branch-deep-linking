{"version":3,"sources":["index.js"],"names":[],"mappings":"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","file":"index.js","sourcesContent":["/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nvar app = {\n    // Application Constructor\n    initialize: function() {\n        this.bindEvents();\n    },\n    // Bind Event Listeners\n    //\n    // Bind any events that are required on startup. Common events are:\n    // 'load', 'deviceready', 'offline', and 'online'.\n    bindEvents: function() {\n        document.addEventListener('deviceready', this.onDeviceReady, false);\n    },\n    // deviceready Event Handler\n    //\n    // The scope of 'this' is the event. In order to call the 'receivedEvent'\n    // function, we must explicitly call 'app.receivedEvent(...);'\n    onDeviceReady: function() {\n        app.receivedEvent('app');\n    },\n    // Update DOM on a Received Event\n    receivedEvent: function(id) {\n\n        if (navigator.userAgent.indexOf('iPhone') >= 0) {\n            document.getElementsByTagName(\"html\")[0].className = 'ios';\n        }\n else if (navigator.userAgent.indexOf('Android') >= 0) {\n            document.getElementsByTagName(\"html\")[0].className = 'android';\n        }\n\n        InitSession();\n\n    }\n};\n\napp.initialize();\n\nfunction DeepLinkHandler(data) {\n    if (data) {\n        alert('Initialize: ' + JSON.stringify(data));\n    }\n else {\n        alert('No data found');\n    }\n}\n\nfunction NonBranchLinkHandler(data) {\n    if (data) {\n        alert('Non-branch link found: ' + JSON.stringify(data));\n    }\n}\n\nfunction InitSession() {\n    console.log('Trigger InitSession()');\n\n    Branch.setMixpanelToken('<your-mixpanel-token-here>');\n    Branch.initSession().then(function(res) {\n        console.log(res);\n        alert('Response: ' + JSON.stringify(res));\n    }).catch(function(err) {\n        console.error(err);\n        alert('Error: ' + JSON.stringify(err));\n    });\n}\n\nfunction CustomAction() {\n    console.log('Trigger CustomAction()');\n\n    var action = document.getElementById('custom-action').value;\n\n    Branch.userCompletedAction(action).then(function(res) {\n        console.log(res);\n        alert('Response: ' + JSON.stringify(res));\n    }).catch(function(err) {\n        console.error(err);\n        alert('Error: ' + JSON.stringify(err));\n    });\n}\n\nfunction GetLatestReferringParams() {\n    console.log('Trigger GetLatestReferringParams()');\n\n    Branch.getLatestReferringParams().then(function(res) {\n        console.log(res);\n        alert('Response: ' + JSON.stringify(res));\n    }).catch(function(err) {\n        console.error(err);\n        alert('Error: ' + JSON.stringify(err));\n    });\n}\n\nfunction GetFirstReferringParams() {\n    console.log('Trigger GetFirstReferringParams()');\n\n    Branch.getFirstReferringParams().then(function(res) {\n        alert('Response: ' + JSON.stringify(res));\n        console.log(res);\n    }).catch(function(err) {\n        alert('Error: ' + JSON.stringify(err));\n        console.error(err);\n    });\n}\n\nfunction SetIdentity() {\n    console.log('Trigger SetIdentity()');\n\n    var newIdentity = document.getElementById('identity').value;\n\n    Branch.setIdentity(newIdentity).then(function(res) {\n        console.log(res);\n        alert('Response: ' + JSON.stringify(res));\n    }).catch(function(err) {\n        console.error(err);\n        alert('Error: ' + JSON.stringify(err));\n    });\n}\n\nfunction Logout() {\n    console.log('Trigger Logout()');\n\n    Branch.logout().then(function(res) {\n        console.log(res);\n        alert('Response: ' + JSON.stringify(res));\n    }).catch(function(err) {\n        console.error(err);\n        alert('Error: ' + JSON.stringify(err));\n    });\n}\n\nvar branchUniversalObj = null;\n\nfunction CreateBranchUniversalObject() {\n\n    console.log('Trigger CreateBranchUniversalObject()');\n\n    var properties = {\n        canonicalIdentifier: 'testbed',\n        title: 'testbed',\n        contentDescription: 'Testbed Application',\n        contentImageUrl: 'https://imgflip.com/s/meme/Derp.jpg',\n        contentIndexingMode: 'public',\n        contentMetadata: {}\n    };\n\n    Branch.createBranchUniversalObject(properties)\n        .then(function(res) {\n            console.log(res);\n            alert('Response: ' + JSON.stringify(res));\n            branchUniversalObj = res;\n        })\n        .catch(function(err) {\n            console.error(err);\n            alert('Error: ' + JSON.stringify(err));\n        });\n\n}\n\nfunction RegisterView() {\n    console.log('Trigger RegisterView()');\n\n    branchUniversalObj.registerView().then(function(res) {\n        console.log(res);\n        alert('Response: ' + JSON.stringify(res));\n    }).catch(function(err) {\n        console.error(err);\n        alert('Error: ' + JSON.stringify(err));\n    });;\n}\n\nfunction GenerateShortUrl() {\n    console.log('Trigger GenerateShortUrl()');\n\n    var properties = {\n        feature: 'test',\n        alias: document.getElementById('alias').value,\n        channel: 'test',\n        stage: 'test',\n        duration: 10000\n    };\n    var controlParams = {\n        $fallback_url: 'www.another.com',\n        $desktop_url: 'www.desktop.com',\n        $android_url: 'test',\n        $ios_url: 'ios',\n        $ipad_url: 'ipad',\n        $fire_url: 'fire',\n        $blackberry_url: 'blackberry',\n        $windows_phone_url: 'win-phone'\n    };\n\n    branchUniversalObj.generateShortUrl(properties, controlParams).then(function(res) {\n        console.log(res);\n        document.getElementById('generated-url').value = res.url;\n    }).catch(function(err) {\n        console.error(err);\n        alert('Error: ' + JSON.stringify(err));\n    });\n}\n\nfunction ShowShareSheet() {\n    console.log('Trigger ShowShareSheet()');\n\n    var properties = {\n        feature: 'test',\n        alias: document.getElementById('alias').value,\n        channel: 'test',\n        stage: 'test',\n        duration: 10000\n    };\n    var controlParams = {\n        $fallback_url: 'www.another.com',\n        $desktop_url: 'www.desktop.com',\n        $android_url: 'test',\n        $ios_url: 'ios',\n        $ipad_url: 'ipad',\n        $fire_url: 'fire',\n        $blackberry_url: 'blackberry',\n        $windows_phone_url: 'win-phone'\n    };\n\n    console.log(branchUniversalObj);\n\n    // Set listeners\n    branchUniversalObj.onShareSheetLaunched(function() {\n        console.log('Share sheet launched');\n    });\n    branchUniversalObj.onShareSheetDismissed(function() {\n      console.log('Share sheet dismissed');\n    });\n    branchUniversalObj.onLinkShareResponse(function(res) {\n      console.log('Share link response: ' + JSON.stringify(res));\n    });\n    branchUniversalObj.onChannelSelected(function(res) {\n      console.log('Channel selected: ' + JSON.stringify(res));\n    });\n\n    branchUniversalObj.showShareSheet(properties, controlParams, 'Custom Text');\n\n}\n\nfunction ListOnSpotlight() {\n    console.log('Trigger ListOnSpotlight()');\n    branchUniversalObj.listOnSpotlight().then(function(res) {\n        console.log(res);\n        alert('Response: ' + JSON.stringify(res));\n    }).catch(function(err) {\n        console.error(err);\n        alert('Error: ' + JSON.stringify(err));\n    });\n}\n\nfunction LoadRewards() {\n    console.log('Trigger LoadRewards()');\n    Branch.loadRewards().then(function(res) {\n        console.log(res);\n        alert('Response: ' + JSON.stringify(res));\n    }).catch(function(err) {\n        console.error(err);\n        alert('Error: ' + JSON.stringify(err));\n    });\n}\n\nfunction RedeemRewards() {\n    console.log('Trigger RedeemRewards()');\n    var reward = 1000;\n\n    Branch.redeemRewards(reward).then(function(res) {\n        console.log(res);\n        alert('Response: ' + JSON.stringify(res));\n    }).catch(function(err) {\n        console.error(err);\n        alert('Error: ' + JSON.stringify(err));\n    });\n}\n\nfunction CreditHistory() {\n    console.log('Trigger CreditHistory()');\n    Branch.creditHistory().then(function(res) {\n        console.log(res);\n        alert('Response: ' + JSON.stringify(res));\n    }).catch(function(err) {\n        console.error(err);\n        alert('Error: ' + JSON.stringify(err));\n    });\n}\n"],"sourceRoot":"/source/"}